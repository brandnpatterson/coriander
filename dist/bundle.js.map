{"version":3,"sources":["webpack:///webpack/bootstrap b14ea7480968e5656a7e","webpack:///./src/js/index.js","webpack:///./src/js/util/forEach.js"],"names":["forEach","require","HTMLElement","prototype","coriander","form","$radioByName","$totalInputsByName","init","cacheDOM","bindEvents","setup","$inputs","querySelectorAll","$radioInputs","_this","addEventListener","e","preventDefault","validate","validCount","length","input","parentNode","dataset","invalid","submit","window","scrollTo","push","placeholder","required","error","document","createElement","classList","add","appendChild","name","querySelector","match","value","regex","textContent","radio","parent","arr","callback","i","module","exports"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap b14ea7480968e5656a7e","var forEach = require('./util/forEach');\n\n(function() {\n  'use strict';\n\n  HTMLElement.prototype.coriander = function() {\n    var form = this;\n\n    var coriander = {\n      $radioByName: {},\n      $totalInputsByName: [],\n      init: function() {\n        this.cacheDOM();\n        this.bindEvents();\n        this.setup();\n      },\n\n      cacheDOM: function() {\n        this.$inputs = form.querySelectorAll('input:not([type=\"radio\"])');\n        this.$radioInputs = form.querySelectorAll('input[type=\"radio\"]');\n      },\n\n      bindEvents: function() {\n        var _this = this;\n\n        form.addEventListener('submit', function(e) {\n          e.preventDefault();\n          _this.validate();\n\n          var validCount = _this.$totalInputsByName.length;\n          forEach(_this.$totalInputsByName, function(input) {\n            if (input.parentNode.dataset.invalid) {\n              validCount--;\n            }\n          });\n\n          if (_this.$totalInputsByName.length === validCount) {\n            form.submit();\n          } else {\n            window.scrollTo(0, 0);\n          }\n        });\n      },\n\n      setup: function() {\n        var _this = this;\n\n        forEach(this.$inputs, function(input) {\n          _this.$totalInputsByName.push(input);\n\n          if (!input.dataset.placeholder && input.dataset.required) {\n            var error = document.createElement('p');\n\n            error.classList.add('coriander-error');\n            input.parentNode.appendChild(error);\n          }\n        });\n\n        forEach(_this.$radioInputs, function(input) {\n          if (!_this.$radioByName[input.name]) {\n            _this.$radioByName[input.name] = input;\n            _this.$totalInputsByName.push(input);\n          }\n        });\n\n        var input;\n        for (input in _this.$radioByName) {\n          var error = document.createElement('p');\n\n          error.classList.add('coriander-error');\n          _this.$radioByName[input].parentNode.appendChild(error);\n        }\n      },\n\n      validate: function() {\n        var _this = this;\n\n        forEach(this.$inputs, function(input) {\n          var dataset = input.dataset;\n          var error = input.parentNode.querySelector('.coriander-error');\n          var match = input.value.match(input.dataset.regex);\n\n          // @todo refactor\n          if (dataset.placeholder) {\n            if (!dataset.regex && dataset.required && input.value === '') {\n              input.value = '';\n              input.placeholder = 'This value is required';\n              input.parentNode.dataset.invalid = true;\n            } else if (match) {\n              delete input.parentNode.dataset.invalid;\n            } else {\n              input.value = '';\n              input.placeholder = dataset.error;\n              input.parentNode.dataset.invalid = true;\n            }\n          } else if (!dataset.regex && dataset.required && input.value === '') {\n            if (error) {\n              error.textContent = 'This value is required';\n            }\n            input.parentNode.dataset.invalid = true;\n          } else if (error) {\n            if (match) {\n              if (error) {\n                error.textContent = '';\n              }\n\n              delete input.parentNode.dataset.invalid;\n            } else {\n              error.textContent = dataset.error;\n              input.parentNode.dataset.invalid = true;\n            }\n          }\n        });\n\n        var input;\n        for (input in this.$radioByName) {\n          var radio = _this.$radioByName[input];\n          var parent = radio.parentNode;\n          var error = parent.querySelector('.coriander-error');\n\n          if (form[radio.name].value === 'on') {\n            error.textContent = '';\n\n            delete parent.dataset.invalid;\n          } else {\n            if (error) {\n              error.textContent = radio.dataset.error;\n            }\n            parent.dataset.invalid = true;\n          }\n        }\n      }\n    };\n\n    coriander.init();\n  };\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/index.js","/**\n * Loop over array and return each iteration to process through callback function\n *  @param {Array} arr\n *  @param {Function} callback\n */\n\nvar forEach = function(arr, callback) {\n  for (var i = 0; i < arr.length; i++) {\n    callback(arr[i], i, arr);\n  }\n};\n\nmodule.exports = forEach;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/util/forEach.js"],"sourceRoot":""}