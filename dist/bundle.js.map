{"version":3,"sources":["webpack:///webpack/bootstrap 136ed340b9e5deed4ffb","webpack:///./src/js/index.js","webpack:///./src/js/util/forEach.js"],"names":["forEach","require","HTMLElement","prototype","coriander","options","form","$radioByName","$totalInputsByName","init","cacheDOM","bindEvents","setup","$inputs","querySelectorAll","$radioInputs","_this","addEventListener","e","preventDefault","validate","validCount","length","input","parentNode","dataset","invalid","submit","window","scrollTo","onChange","push","placeholder","required","error","document","createElement","classList","add","appendChild","name","single","validateSingle","querySelector","match","value","regex","textContent","validateSingleRadio","radio","parent","arr","callback","i","module","exports"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 136ed340b9e5deed4ffb","var forEach = require('./util/forEach');\n\n(function() {\n  'use strict';\n\n  HTMLElement.prototype.coriander = function(options) {\n    var form = this;\n\n    var coriander = {\n      $radioByName: {},\n      $totalInputsByName: [],\n      init: function() {\n        this.cacheDOM();\n        this.bindEvents();\n        this.setup();\n      },\n\n      cacheDOM: function() {\n        this.$inputs = form.querySelectorAll('input:not([type=\"radio\"])');\n        this.$radioInputs = form.querySelectorAll('input[type=\"radio\"]');\n      },\n\n      bindEvents: function() {\n        var _this = this;\n\n        form.addEventListener('submit', function(e) {\n          e.preventDefault();\n          _this.validate();\n\n          var validCount = _this.$totalInputsByName.length;\n          forEach(_this.$totalInputsByName, function(input) {\n            if (input.parentNode.dataset.invalid) {\n              validCount--;\n            }\n          });\n\n          if (_this.$totalInputsByName.length === validCount) {\n            form.submit();\n          } else {\n            window.scrollTo(0, 0);\n          }\n        });\n\n        if (options.onChange) {\n          forEach(this.$inputs, function(input) {\n            input.addEventListener('change', function() {\n              _this.validate(input);\n            });\n          });\n        }\n      },\n\n      setup: function() {\n        var _this = this;\n\n        forEach(this.$inputs, function(input) {\n          _this.$totalInputsByName.push(input);\n\n          if (!input.dataset.placeholder && input.dataset.required) {\n            var error = document.createElement('p');\n\n            error.classList.add('coriander-error');\n            input.parentNode.appendChild(error);\n          }\n        });\n\n        forEach(_this.$radioInputs, function(input) {\n          if (!_this.$radioByName[input.name]) {\n            _this.$radioByName[input.name] = input;\n            _this.$totalInputsByName.push(input);\n          }\n        });\n\n        var input;\n        for (input in _this.$radioByName) {\n          var error = document.createElement('p');\n\n          error.classList.add('coriander-error');\n          _this.$radioByName[input].parentNode.appendChild(error);\n        }\n      },\n\n      validate: function(single) {\n        var _this = this;\n\n        function validateSingle(input) {\n          var dataset = input.dataset;\n          var error = input.parentNode.querySelector('.coriander-error');\n          var match = input.value.match(input.dataset.regex);\n\n          // @todo refactor\n          if (dataset.placeholder) {\n            if (!dataset.regex && dataset.required && input.value === '') {\n              input.value = '';\n              input.placeholder = 'This value is required';\n              input.parentNode.dataset.invalid = true;\n            } else if (match) {\n              delete input.parentNode.dataset.invalid;\n            } else {\n              input.value = '';\n              input.placeholder = dataset.error;\n              input.parentNode.dataset.invalid = true;\n            }\n          } else if (!dataset.regex && dataset.required && input.value === '') {\n            if (error) {\n              error.textContent = 'This value is required';\n            }\n            input.parentNode.dataset.invalid = true;\n          } else if (error) {\n            if (match) {\n              if (error) {\n                error.textContent = '';\n              }\n\n              delete input.parentNode.dataset.invalid;\n            } else {\n              error.textContent = dataset.error;\n              input.parentNode.dataset.invalid = true;\n            }\n          }\n        }\n\n        function validateSingleRadio() {\n          var radio = _this.$radioByName[input];\n          var parent = radio.parentNode;\n          var error = parent.querySelector('.coriander-error');\n\n          if (form[radio.name].value === 'on') {\n            error.textContent = '';\n\n            delete parent.dataset.invalid;\n          } else {\n            if (error) {\n              error.textContent = radio.dataset.error;\n            }\n            parent.dataset.invalid = true;\n          }\n        }\n        if (single) {\n          validateSingle(single);\n        } else {\n          forEach(this.$inputs, function(input) {\n            validateSingle(input);\n          });\n\n          var input;\n          for (input in this.$radioByName) {\n            validateSingleRadio(input);\n          }\n        }\n      }\n    };\n\n    coriander.init();\n  };\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/index.js","/**\n * Loop over array and return each iteration to process through callback function\n *  @param {Array} arr\n *  @param {Function} callback\n */\n\nvar forEach = function(arr, callback) {\n  for (var i = 0; i < arr.length; i++) {\n    callback(arr[i], i, arr);\n  }\n};\n\nmodule.exports = forEach;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/util/forEach.js"],"sourceRoot":""}