{"version":3,"sources":["webpack:///webpack/bootstrap 49caf18c6c2d1f6f06fe","webpack:///./src/js/index.js","webpack:///./src/js/util/forEach.js"],"names":["forEach","require","HTMLElement","prototype","coriander","options","form","$radioByName","$totalInputsByName","init","cacheDOM","bindEvents","setup","$inputs","querySelectorAll","$radioInputs","_this","addEventListener","e","preventDefault","validate","validCount","length","input","parentNode","dataset","invalid","submit","window","scrollTo","onChange","inputs","push","placeholder","required","error","document","createElement","classList","add","appendChild","name","single","validateSingle","querySelector","match","value","regex","textContent","validateSingleRadio","radio","parent","arr","callback","i","module","exports"],"mappings":"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","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, {\n \t\t\t\tconfigurable: false,\n \t\t\t\tenumerable: true,\n \t\t\t\tget: getter\n \t\t\t});\n \t\t}\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n\n\n\n// WEBPACK FOOTER //\n// webpack/bootstrap 49caf18c6c2d1f6f06fe","var forEach = require('./util/forEach');\n\n(function() {\n  'use strict';\n\n  HTMLElement.prototype.coriander = function(options) {\n    var form = this;\n\n    var coriander = {\n      $radioByName: {},\n      $totalInputsByName: [],\n      init: function() {\n        this.cacheDOM();\n        this.bindEvents();\n        this.setup();\n      },\n\n      cacheDOM: function() {\n        this.$inputs = form.querySelectorAll('input:not([type=\"radio\"])');\n        this.$radioInputs = form.querySelectorAll('input[type=\"radio\"]');\n      },\n\n      bindEvents: function() {\n        var _this = this;\n\n        form.addEventListener('submit', function(e) {\n          e.preventDefault();\n          _this.validate();\n\n          var validCount = _this.$totalInputsByName.length;\n          forEach(_this.$totalInputsByName, function(input) {\n            if (input.parentNode.dataset.invalid) {\n              validCount--;\n            }\n          });\n\n          if (_this.$totalInputsByName.length === validCount) {\n            form.submit();\n          } else {\n            window.scrollTo(0, 0);\n          }\n        });\n\n        if (options && options.onChange) {\n          this.onChange(this.$inputs);\n          this.onChange(this.$radioInputs);\n        }\n      },\n\n      onChange: function(inputs) {\n        var _this = this;\n\n        forEach(inputs, function(input) {\n          input.addEventListener('change', function() {\n            _this.validate(input);\n          });\n        });\n      },\n\n      setup: function() {\n        var _this = this;\n\n        forEach(this.$inputs, function(input) {\n          _this.$totalInputsByName.push(input);\n\n          if (!input.dataset.placeholder && input.dataset.required) {\n            var error = document.createElement('p');\n\n            error.classList.add('coriander-error');\n            input.parentNode.appendChild(error);\n          }\n        });\n\n        forEach(_this.$radioInputs, function(input) {\n          if (!_this.$radioByName[input.name]) {\n            _this.$radioByName[input.name] = input;\n            _this.$totalInputsByName.push(input);\n          }\n        });\n\n        var input;\n        for (input in _this.$radioByName) {\n          var error = document.createElement('p');\n\n          error.classList.add('coriander-error');\n          _this.$radioByName[input].parentNode.appendChild(error);\n        }\n      },\n\n      validate: function(single) {\n        var _this = this;\n\n        function validateSingle(input) {\n          var dataset = input.dataset;\n          var error = input.parentNode.querySelector('.coriander-error');\n          var match = input.value.match(input.dataset.regex);\n\n          // @todo refactor\n          if (dataset.placeholder) {\n            if (!dataset.regex && dataset.required && input.value === '') {\n              input.value = '';\n              input.placeholder = 'This value is required';\n              input.parentNode.dataset.invalid = true;\n            } else if (match) {\n              delete input.parentNode.dataset.invalid;\n            } else {\n              input.value = '';\n              input.placeholder = dataset.error;\n              input.parentNode.dataset.invalid = true;\n            }\n          } else if (!dataset.regex && dataset.required && input.value === '') {\n            if (error) {\n              error.textContent = 'This value is required';\n            }\n            input.parentNode.dataset.invalid = true;\n          } else if (error) {\n            if (match) {\n              if (error) {\n                error.textContent = '';\n              }\n\n              delete input.parentNode.dataset.invalid;\n            } else {\n              error.textContent = dataset.error;\n              input.parentNode.dataset.invalid = true;\n            }\n          }\n        }\n\n        function validateSingleRadio() {\n          var radio = _this.$radioByName[input];\n          var parent = radio.parentNode;\n          var error = parent.querySelector('.coriander-error');\n\n          if (form[radio.name].value === 'on') {\n            error.textContent = '';\n\n            delete parent.dataset.invalid;\n          } else {\n            if (error) {\n              error.textContent = radio.dataset.error;\n            }\n            parent.dataset.invalid = true;\n          }\n        }\n        if (single) {\n          validateSingle(single);\n        } else {\n          forEach(this.$inputs, function(input) {\n            validateSingle(input);\n          });\n\n          var input;\n          for (input in this.$radioByName) {\n            validateSingleRadio(input);\n          }\n        }\n      }\n    };\n\n    coriander.init();\n  };\n})();\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/index.js","/**\n * Loop over array and return each iteration to process through callback function\n *  @param {Array} arr\n *  @param {Function} callback\n */\n\nvar forEach = function(arr, callback) {\n  for (var i = 0; i < arr.length; i++) {\n    callback(arr[i], i, arr);\n  }\n};\n\nmodule.exports = forEach;\n\n\n\n// WEBPACK FOOTER //\n// ./src/js/util/forEach.js"],"sourceRoot":""}